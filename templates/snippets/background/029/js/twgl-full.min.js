/**
 * Minified by jsDelivr using UglifyJS v3.4.4.
 * Original file: /npm/twgl.js@4.5.2/dist/4.x/twgl-full.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.twgl=r():e.twgl=r()}("undefined"!=typeof self?self:this,function(){return function(t){var n={};function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=n,a.d=function(e,r,t){a.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},a.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(r,"a",r),r},a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},a.p="",a(a.s=9)}([function(e,r,t){"use strict";r.__esModule=!0,r.copyExistingProperties=function(r,t){Object.keys(t).forEach(function(e){t.hasOwnProperty(e)&&r.hasOwnProperty(e)&&(t[e]=r[e])})},r.copyNamedProperties=function(e,t,n){e.forEach(function(e){var r=t[e];void 0!==r&&(n[e]=r)})},r.isBuffer=function(e,r){i||(i=e.createBuffer());return r instanceof i.constructor},r.isRenderbuffer=function(e,r){u||(u=e.createRenderbuffer());return r instanceof u.constructor},r.isShader=function(e,r){f||(f=e.createShader(e.VERTEX_SHADER));return r instanceof f.constructor},r.isTexture=function(e,r){s||(s=e.createTexture());return r instanceof s.constructor},r.isSampler=function(e,r){if(!c){if(!e.createSampler)return!1;c=e.createSampler()}return r instanceof c.constructor},r.warn=r.error=void 0;var n,a=(n=t(2))&&n.__esModule?n:{default:n};var o=a.default.console&&a.default.console.error&&"function"==typeof a.default.console.error?a.default.console.error.bind(a.default.console):function(){};r.error=o;var i,u,f,s,c,l=a.default.console&&a.default.console.warn&&"function"==typeof a.default.console.warn?a.default.console.warn.bind(a.default.console):function(){};r.warn=l},function(e,r,t){"use strict";r.__esModule=!0,r.getGLTypeForTypedArray=function(e){if(e instanceof Int8Array)return o;if(e instanceof Uint8Array)return i;if(e instanceof Uint8ClampedArray)return i;if(e instanceof Int16Array)return u;if(e instanceof Uint16Array)return f;if(e instanceof Int32Array)return s;if(e instanceof Uint32Array)return c;if(e instanceof Float32Array)return l;throw"unsupported typed array type"},r.getGLTypeForTypedArrayType=function(e){if(e===Int8Array)return o;if(e===Uint8Array)return i;if(e===Uint8ClampedArray)return i;if(e===Int16Array)return u;if(e===Uint16Array)return f;if(e===Int32Array)return s;if(e===Uint32Array)return c;if(e===Float32Array)return l;throw"unsupported typed array type"},r.getTypedArrayTypeForGLType=function(e){var r=m[e];if(!r)throw"unknown gl type";return r},r.isArrayBuffer=void 0;var n,a=(n=t(2))&&n.__esModule?n:{default:n};var o=5120,i=5121,u=5122,f=5123,s=5124,c=5125,l=5126,m={},p=m;p[o]=Int8Array,p[i]=Uint8Array,p[u]=Int16Array,p[f]=Uint16Array,p[s]=Int32Array,p[c]=Uint32Array,p[l]=Float32Array,p[32819]=Uint16Array,p[32820]=Uint16Array,p[33635]=Uint16Array,p[5131]=Uint16Array,p[33640]=Uint32Array,p[35899]=Uint32Array,p[35902]=Uint32Array,p[36269]=Uint32Array,p[34042]=Uint32Array;var d=a.default.SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof a.default.SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};r.isArrayBuffer=d},function(e,r,t){"use strict";r.__esModule=!0;var n=(r.default=void 0)!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};r.default=n},function(e,r,t){"use strict";r.__esModule=!0,r.add=function(e,r,t){return(t=t||new o(3))[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},r.copy=function(e,r){return(r=r||new o(3))[0]=e[0],r[1]=e[1],r[2]=e[2],r},r.create=function(e,r,t){var n=new o(3);e&&(n[0]=e);r&&(n[1]=r);t&&(n[2]=t);return n},r.cross=function(e,r,t){t=t||new o(3);var n=e[2]*r[0]-e[0]*r[2],a=e[0]*r[1]-e[1]*r[0];return t[0]=e[1]*r[2]-e[2]*r[1],t[1]=n,t[2]=a,t},r.distance=function(e,r){var t=e[0]-r[0],n=e[1]-r[1],a=e[2]-r[2];return Math.sqrt(t*t+n*n+a*a)},r.distanceSq=function(e,r){var t=e[0]-r[0],n=e[1]-r[1],a=e[2]-r[2];return t*t+n*n+a*a},r.divide=function(e,r,t){return(t=t||new o(3))[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},r.divScalar=function(e,r,t){return(t=t||new o(3))[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r,t},r.dot=function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]},r.lerp=function(e,r,t,n){return(n=n||new o(3))[0]=(1-t)*e[0]+t*r[0],n[1]=(1-t)*e[1]+t*r[1],n[2]=(1-t)*e[2]+t*r[2],n},r.length=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])},r.lengthSq=function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},r.mulScalar=function(e,r,t){return(t=t||new o(3))[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},r.multiply=function(e,r,t){return(t=t||new o(3))[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t},r.negate=function(e,r){return(r=r||new o(3))[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r},r.normalize=function(e,r){r=r||new o(3);var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=Math.sqrt(t);1e-5<n?(r[0]=e[0]/n,r[1]=e[1]/n,r[2]=e[2]/n):(r[0]=0,r[1]=0,r[2]=0);return r},r.setDefaultType=function(e){var r=o;return o=e,r},r.subtract=function(e,r,t){return(t=t||new o(3))[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t};var o=Float32Array},function(e,r,t){"use strict";r.__esModule=!0,r.isWebGL1=function(e){return!e.texStorage2D},r.isWebGL2=function(e){return!!e.texStorage2D},r.glEnumToString=void 0;var a,o,n=(a={},o={},function(e,r){return function(e){var r=e.constructor.name;if(!a[r]){for(var t in e)if("number"==typeof e[t]){var n=o[e[t]];o[e[t]]=n?"".concat(n," | ").concat(t):t}a[r]=!0}}(e),o[r]||"0x"+r.toString(16)});r.glEnumToString=n},function(e,r,t){"use strict";r.__esModule=!0,r.createAttributeSetters=Y,r.createProgram=C,r.createProgramFromScripts=function(e,r,t,n,a){for(var o=B(t,n,a),i=[],u=0;u<r.length;++u){var f=M(e,r[u],e[O[u]],o.errorCallback);if(!f)return null;i.push(f)}return C(e,i,o)},r.createProgramFromSources=D,r.createProgramInfo=function(e,r,t,n,a){var o=B(t,n,a),i=!0;if(r=r.map(function(e){if(e.indexOf("\n")<0){var r=v(e);r?e=r.text:(o.errorCallback("no element with id: "+e),i=!1)}return e}),!i)return null;var u=D(e,r,o);if(!u)return null;return K(e,u)},r.createProgramInfoFromProgram=K,r.createUniformSetters=L,r.createUniformBlockSpecFromProgram=z,r.createUniformBlockInfoFromProgram=X,r.createUniformBlockInfo=function(e,r,t){return X(e,r.program,r.uniformBlockSpec,t)},r.createTransformFeedback=function(e,r,t){var n=e.createTransformFeedback();return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n),e.useProgram(r.program),j(e,r,t),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),function(e,r,t){for(var n in r.transformFeedbackInfo&&(r=r.transformFeedbackInfo),t.attribs&&(t=t.attribs),t){var a=r[n];a&&e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,a.index,null)}}(e,r,t),n},r.createTransformFeedbackInfo=k,r.bindTransformFeedbackInfo=j,r.setAttributes=W,r.setBuffersAndAttributes=function(e,r,t){t.vertexArrayObject?e.bindVertexArray(t.vertexArrayObject):(W(r.attribSetters||r,t.attribs),t.indices&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indices))},r.setUniforms=function e(r,t){var n=r.uniformSetters||r;var a=arguments.length;for(var o=1;o<a;++o){var i=arguments[o];if(Array.isArray(i))for(var u=i.length,f=0;f<u;++f)e(n,i[f]);else for(var s in i){var c=n[s];c&&c(i[s])}}},r.setUniformBlock=function(e,r,t){V(e,r,t)&&e.bufferData(e.UNIFORM_BUFFER,t.array,e.DYNAMIC_DRAW)},r.setBlockUniforms=function(e,r){var t=e.uniforms;for(var n in r){var a=t[n];if(a){var o=r[n];o.length?a.set(o):a[0]=o}}},r.bindUniformBlock=V;var n,f=o(t(4)),b=o(t(0)),a=(n=t(2))&&n.__esModule?n:{default:n};function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var s=b.error,m=b.warn,v=a.default&&a.default.document&&a.default.document.getElementById?a.default.document.getElementById.bind(a.default.document):function(){return null},i=34067,u=35866,p={};function c(e,r){return p[r].bindPoint}function l(r,t){return function(e){r.uniform1i(t,e)}}function d(r,t){return function(e){r.uniform1iv(t,e)}}function y(r,t){return function(e){r.uniform2iv(t,e)}}function E(r,t){return function(e){r.uniform3iv(t,e)}}function h(r,t){return function(e){r.uniform4iv(t,e)}}function _(n,e,a,o){var i=c(0,e);return f.isWebGL2(n)?function(e){var r,t;b.isTexture(n,e)?(r=e,t=null):(r=e.texture,t=e.sampler),n.uniform1i(o,a),n.activeTexture(n.TEXTURE0+a),n.bindTexture(i,r),n.bindSampler(a,t)}:function(e){n.uniform1i(o,a),n.activeTexture(n.TEXTURE0+a),n.bindTexture(i,e)}}function A(a,e,o,r,t){for(var i=c(0,e),u=new Int32Array(t),n=0;n<t;++n)u[n]=o+n;return f.isWebGL2(a)?function(e){a.uniform1iv(r,u),e.forEach(function(e,r){var t,n;a.activeTexture(a.TEXTURE0+u[r]),b.isTexture(a,e)?(t=e,n=null):(t=e.texture,n=e.sampler),a.bindSampler(o,n),a.bindTexture(i,t)})}:function(e){a.uniform1iv(r,u),e.forEach(function(e,r){a.activeTexture(a.TEXTURE0+u[r]),a.bindTexture(i,e)})}}function T(r,t){return function(e){e.value?(r.disableVertexAttribArray(t),r.vertexAttrib4fv(t,e.value)):(r.bindBuffer(r.ARRAY_BUFFER,e.buffer),r.enableVertexAttribArray(t),r.vertexAttribPointer(t,e.numComponents||e.size,e.type||r.FLOAT,e.normalize||!1,e.stride||0,e.offset||0),void 0!==e.divisor&&r.vertexAttribDivisor(t,e.divisor))}}function x(r,t){return function(e){e.value?(r.disableVertexAttribArray(t),r.vertexAttrib4iv(t,e.value)):(r.bindBuffer(r.ARRAY_BUFFER,e.buffer),r.enableVertexAttribArray(t),r.vertexAttribIPointer(t,e.numComponents||e.size,e.type||r.INT,e.stride||0,e.offset||0),void 0!==e.divisor&&r.vertexAttribDivisor(t,e.divisor))}}function g(r,t){return function(e){e.value?(r.disableVertexAttribArray(t),r.vertexAttrib4uiv(t,e.value)):(r.bindBuffer(r.ARRAY_BUFFER,e.buffer),r.enableVertexAttribArray(t),r.vertexAttribIPointer(t,e.numComponents||e.size,e.type||r.UNSIGNED_INT,e.stride||0,e.offset||0),void 0!==e.divisor&&r.vertexAttribDivisor(t,e.divisor))}}function R(s,c,e){var l=e.size,m=e.count;return function(e){s.bindBuffer(s.ARRAY_BUFFER,e.buffer);for(var r=e.size||e.numComponents||l,t=r/m,n=e.type||s.FLOAT,a=p[n].size*r,o=e.normalize||!1,i=e.offset||0,u=a/m,f=0;f<m;++f)s.enableVertexAttribArray(c+f),s.vertexAttribPointer(c+f,t,n,o,a,i+u*f),void 0!==e.divisor&&s.vertexAttribDivisor(c+f,e.divisor)}}p[5126]={Type:Float32Array,size:4,setter:function(r,t){return function(e){r.uniform1f(t,e)}},arraySetter:function(r,t){return function(e){r.uniform1fv(t,e)}}},p[35664]={Type:Float32Array,size:8,setter:function(r,t){return function(e){r.uniform2fv(t,e)}}},p[35665]={Type:Float32Array,size:12,setter:function(r,t){return function(e){r.uniform3fv(t,e)}}},p[35666]={Type:Float32Array,size:16,setter:function(r,t){return function(e){r.uniform4fv(t,e)}}},p[5124]={Type:Int32Array,size:4,setter:l,arraySetter:d},p[35667]={Type:Int32Array,size:8,setter:y},p[35668]={Type:Int32Array,size:12,setter:E},p[35669]={Type:Int32Array,size:16,setter:h},p[5125]={Type:Uint32Array,size:4,setter:function(r,t){return function(e){r.uniform1ui(t,e)}},arraySetter:function(r,t){return function(e){r.uniform1uiv(t,e)}}},p[36294]={Type:Uint32Array,size:8,setter:function(r,t){return function(e){r.uniform2uiv(t,e)}}},p[36295]={Type:Uint32Array,size:12,setter:function(r,t){return function(e){r.uniform3uiv(t,e)}}},p[36296]={Type:Uint32Array,size:16,setter:function(r,t){return function(e){r.uniform4uiv(t,e)}}},p[35670]={Type:Uint32Array,size:4,setter:l,arraySetter:d},p[35671]={Type:Uint32Array,size:8,setter:y},p[35672]={Type:Uint32Array,size:12,setter:E},p[35673]={Type:Uint32Array,size:16,setter:h},p[35674]={Type:Float32Array,size:16,setter:function(r,t){return function(e){r.uniformMatrix2fv(t,!1,e)}}},p[35675]={Type:Float32Array,size:36,setter:function(r,t){return function(e){r.uniformMatrix3fv(t,!1,e)}}},p[35676]={Type:Float32Array,size:64,setter:function(r,t){return function(e){r.uniformMatrix4fv(t,!1,e)}}},p[35685]={Type:Float32Array,size:24,setter:function(r,t){return function(e){r.uniformMatrix2x3fv(t,!1,e)}}},p[35686]={Type:Float32Array,size:32,setter:function(r,t){return function(e){r.uniformMatrix2x4fv(t,!1,e)}}},p[35687]={Type:Float32Array,size:24,setter:function(r,t){return function(e){r.uniformMatrix3x2fv(t,!1,e)}}},p[35688]={Type:Float32Array,size:48,setter:function(r,t){return function(e){r.uniformMatrix3x4fv(t,!1,e)}}},p[35689]={Type:Float32Array,size:32,setter:function(r,t){return function(e){r.uniformMatrix4x2fv(t,!1,e)}}},p[35690]={Type:Float32Array,size:48,setter:function(r,t){return function(e){r.uniformMatrix4x3fv(t,!1,e)}}},p[35678]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:3553},p[35680]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:i},p[35679]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:32879},p[35682]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:3553},p[36289]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:u},p[36292]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:u},p[36293]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:i},p[36298]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:3553},p[36299]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:32879},p[36300]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:i},p[36303]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:u},p[36306]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:3553},p[36307]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:32879},p[36308]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:i},p[36311]={Type:null,size:0,setter:_,arraySetter:A,bindPoint:u};var P={};P[5126]={size:4,setter:T},P[35664]={size:8,setter:T},P[35665]={size:12,setter:T},P[35666]={size:16,setter:T},P[5124]={size:4,setter:x},P[35667]={size:8,setter:x},P[35668]={size:12,setter:x},P[35669]={size:16,setter:x},P[5125]={size:4,setter:g},P[36294]={size:8,setter:g},P[36295]={size:12,setter:g},P[36296]={size:16,setter:g},P[35670]={size:4,setter:x},P[35671]={size:8,setter:x},P[35672]={size:12,setter:x},P[35673]={size:16,setter:x},P[35674]={size:4,setter:R,count:2},P[35675]={size:9,setter:R,count:3},P[35676]={size:16,setter:R,count:4};var F=void 0;var U=/^[ \t]*\n/;function w(e,r,t,n){var a,o=n||s,i=e.createShader(t),u=0;if(U.test(r)&&(u=1,r=r.replace(U,"")),e.shaderSource(i,r),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){var f=e.getShaderInfoLog(i);return o((a=(a=u)||0,++a,r.split("\n").map(function(e,r){return r+a+": "+e}).join("\n")+"\n*** Error compiling shader: "+f)),e.deleteShader(i),null}return i}function B(e,t,r){var n;if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e)r=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var a=e;r=a.errorCallback,e=a.attribLocations,n=a.transformFeedbackVaryings}var o={errorCallback:r||s,transformFeedbackVaryings:n};if(e){var i={};Array.isArray(e)?e.forEach(function(e,r){i[e]=t?t[r]:r}):i=e,o.attribLocations=i}return o}var O=["VERTEX_SHADER","FRAGMENT_SHADER"];function I(e){return 0<=e.indexOf("frag")?F.FRAGMENT_SHADER:0<=e.indexOf("vert")?F.VERTEX_SHADER:void 0}function S(r,e){e.forEach(function(e){r.deleteShader(e)})}function C(r,e,t,n,a){for(var o=B(t,n,a),i=[],u=[],f=0;f<e.length;++f){var s=e[f];if("string"==typeof s){var c=v(s),l=c?c.text:s,m=r[O[f]];c&&c.type&&(m=I(c.type)||m),s=w(r,l,m,o.errorCallback),u.push(s)}b.isShader(r,s)&&i.push(s)}if(i.length!==e.length)return o.errorCallback("not enough shaders for program"),S(r,u),null;var p=r.createProgram();i.forEach(function(e){r.attachShader(p,e)}),o.attribLocations&&Object.keys(o.attribLocations).forEach(function(e){r.bindAttribLocation(p,o.attribLocations[e],e)});var d=o.transformFeedbackVaryings;if(d&&(d.attribs&&(d=d.attribs),Array.isArray(d)||(d=Object.keys(d)),r.transformFeedbackVaryings(p,d,o.transformFeedbackMode||r.SEPARATE_ATTRIBS)),r.linkProgram(p),!r.getProgramParameter(p,r.LINK_STATUS)){var y=r.getProgramInfoLog(p);return o.errorCallback("Error in program linking:"+y),r.deleteProgram(p),S(r,u),null}return p}function M(e,r,t,n){var a,o=v(r);if(!o)throw"*** Error: unknown script element"+r;a=o.text;var i=t||I(o.type);if(!i)throw"*** Error: unknown shader type";return w(e,a,i,n)}function D(e,r,t,n,a){for(var o=B(t,n,a),i=[],u=0;u<r.length;++u){var f=w(e,r[u],e[O[u]],o.errorCallback);if(!f)return null;i.push(f)}return C(e,i,o)}function N(e){var r=e.name;return r.startsWith("gl_")||r.startsWith("webgl_")}function L(f,e){var s=0;function r(e,r){var t,n=f.getUniformLocation(e,r.name),a=1<r.size&&"[0]"===r.name.substr(-3),o=r.type,i=p[o];if(!i)throw"unknown type: 0x"+o.toString(16);if(i.bindPoint){var u=s;s+=r.size,t=a?i.arraySetter(f,o,u,n,r.size):i.setter(f,o,u,n,r.size)}else t=i.arraySetter&&a?i.arraySetter(f,n):i.setter(f,n);return t.location=n,t}for(var t={},n=f.getProgramParameter(e,f.ACTIVE_UNIFORMS),a=0;a<n;++a){var o=f.getActiveUniform(e,a);if(!N(o)){var i=o.name;"[0]"===i.substr(-3)&&(i=i.substr(0,i.length-3));var u=r(e,o);t[i]=u}}return t}function k(e,r){for(var t={},n=e.getProgramParameter(r,e.TRANSFORM_FEEDBACK_VARYINGS),a=0;a<n;++a){var o=e.getTransformFeedbackVarying(r,a);t[o.name]={index:a,type:o.type,size:o.size}}return t}function j(e,r,t){for(var n in r.transformFeedbackInfo&&(r=r.transformFeedbackInfo),t.attribs&&(t=t.attribs),t){var a=r[n];if(a){var o=t[n];o.offset?e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,a.index,o.buffer,o.offset,o.size):e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,a.index,o.buffer)}}}function z(n,a){for(var e=n.getProgramParameter(a,n.ACTIVE_UNIFORMS),o=[],i=[],r=0;r<e;++r){i.push(r),o.push({});var t=n.getActiveUniform(a,r);if(N(t))break;o[r].name=t.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(e){var r=e[0],t=e[1];n.getActiveUniforms(a,i,n[r]).forEach(function(e,r){o[r][t]=e})});for(var u={},f=n.getProgramParameter(a,n.ACTIVE_UNIFORM_BLOCKS),s=0;s<f;++s){var c=n.getActiveUniformBlockName(a,s),l={index:s,usedByVertexShader:n.getActiveUniformBlockParameter(a,s,n.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:n.getActiveUniformBlockParameter(a,s,n.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:n.getActiveUniformBlockParameter(a,s,n.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:n.getActiveUniformBlockParameter(a,s,n.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};l.used=l.usedByVertexSahder||l.usedByFragmentShader,u[c]=l}return{blockSpecs:u,uniformData:o}}var G=/\[\d+\]\.$/;function X(e,r,t,n){var a=t.blockSpecs,i=t.uniformData,o=a[n];if(!o)return m("no uniform block object named:",n),{name:n,uniforms:{}};var u=new ArrayBuffer(o.size),f=e.createBuffer(),s=o.index;e.bindBuffer(e.UNIFORM_BUFFER,f),e.uniformBlockBinding(r,o.index,s);var c=n+".";G.test(c)&&(c=c.replace(G,"."));var l={};return o.uniformIndices.forEach(function(e){var r=i[e],t=p[r.type],n=t.Type,a=r.size*t.size,o=r.name;o.substr(0,c.length)===c&&(o=o.substr(c.length)),l[o]=new n(u,r.offset,a/n.BYTES_PER_ELEMENT)}),{name:n,array:u,asFloat:new Float32Array(u),buffer:f,uniforms:l}}function V(e,r,t){var n=(r.uniformBlockSpec||r).blockSpecs[t.name];if(n){var a=n.index;return e.bindBufferRange(e.UNIFORM_BUFFER,a,t.buffer,t.offset||0,t.array.byteLength),!0}return!1}function Y(e,r){for(var t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES),a=0;a<n;++a){var o=e.getActiveAttrib(r,a);if(!N(o)){var i=e.getAttribLocation(r,o.name),u=P[o.type],f=u.setter(e,i,u);f.location=i,t[o.name]=f}}return t}function W(e,r){for(var t in r){var n=e[t];n&&n(r[t])}}function K(e,r){var t={program:r,uniformSetters:L(e,r),attribSetters:Y(e,r)};return f.isWebGL2(e)&&(t.uniformBlockSpec=z(e,r),t.transformFeedbackInfo=k(e,r)),t}},function(e,r,t){"use strict";r.__esModule=!0,r.axisRotate=function(e,r,t,n){n=n||new K(16);var a=r[0],o=r[1],i=r[2],u=Math.sqrt(a*a+o*o+i*i),f=(a/=u)*a,s=(o/=u)*o,c=(i/=u)*i,l=Math.cos(t),m=Math.sin(t),p=1-l,d=f+(1-f)*l,y=a*o*p+i*m,b=a*i*p-o*m,v=a*o*p-i*m,E=s+(1-s)*l,h=o*i*p+a*m,_=a*i*p+o*m,A=o*i*p-a*m,T=c+(1-c)*l,x=e[0],g=e[1],R=e[2],P=e[3],F=e[4],U=e[5],w=e[6],B=e[7],O=e[8],I=e[9],S=e[10],C=e[11];n[0]=d*x+y*F+b*O,n[1]=d*g+y*U+b*I,n[2]=d*R+y*w+b*S,n[3]=d*P+y*B+b*C,n[4]=v*x+E*F+h*O,n[5]=v*g+E*U+h*I,n[6]=v*R+E*w+h*S,n[7]=v*P+E*B+h*C,n[8]=_*x+A*F+T*O,n[9]=_*g+A*U+T*I,n[10]=_*R+A*w+T*S,n[11]=_*P+A*B+T*C,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]);return n},r.axisRotation=function(e,r,t){t=t||new K(16);var n=e[0],a=e[1],o=e[2],i=Math.sqrt(n*n+a*a+o*o),u=(n/=i)*n,f=(a/=i)*a,s=(o/=i)*o,c=Math.cos(r),l=Math.sin(r),m=1-c;return t[0]=u+(1-u)*c,t[1]=n*a*m+o*l,t[2]=n*o*m-a*l,t[3]=0,t[4]=n*a*m-o*l,t[5]=f+(1-f)*c,t[6]=a*o*m+n*l,t[7]=0,t[8]=n*o*m+a*l,t[9]=a*o*m-n*l,t[10]=s+(1-s)*c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.copy=o,r.frustum=function(e,r,t,n,a,o,i){i=i||new K(16);var u=r-e,f=n-t,s=a-o;return i[0]=2*a/u,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*a/f,i[6]=0,i[7]=0,i[8]=(e+r)/u,i[9]=(n+t)/f,i[10]=o/s,i[11]=-1,i[12]=0,i[13]=0,i[14]=a*o/s,i[15]=0,i},r.getAxis=function(e,r,t){t=t||u.create();var n=4*r;return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t},r.getTranslation=function(e,r){return(r=r||u.create())[0]=e[12],r[1]=e[13],r[2]=e[14],r},r.identity=n,r.inverse=l,r.lookAt=function(e,r,t,n){n=n||new K(16);var a=f,o=s,i=c;return u.normalize(u.subtract(e,r,i),i),u.normalize(u.cross(t,i,a),a),u.normalize(u.cross(i,a,o),o),n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=0,n[4]=o[0],n[5]=o[1],n[6]=o[2],n[7]=0,n[8]=i[0],n[9]=i[1],n[10]=i[2],n[11]=0,n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,n},r.multiply=function(e,r,t){t=t||new K(16);var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],f=e[5],s=e[6],c=e[7],l=e[8],m=e[9],p=e[10],d=e[11],y=e[12],b=e[13],v=e[14],E=e[15],h=r[0],_=r[1],A=r[2],T=r[3],x=r[4],g=r[5],R=r[6],P=r[7],F=r[8],U=r[9],w=r[10],B=r[11],O=r[12],I=r[13],S=r[14],C=r[15];return t[0]=n*h+u*_+l*A+y*T,t[1]=a*h+f*_+m*A+b*T,t[2]=o*h+s*_+p*A+v*T,t[3]=i*h+c*_+d*A+E*T,t[4]=n*x+u*g+l*R+y*P,t[5]=a*x+f*g+m*R+b*P,t[6]=o*x+s*g+p*R+v*P,t[7]=i*x+c*g+d*R+E*P,t[8]=n*F+u*U+l*w+y*B,t[9]=a*F+f*U+m*w+b*B,t[10]=o*F+s*U+p*w+v*B,t[11]=i*F+c*U+d*w+E*B,t[12]=n*O+u*I+l*S+y*C,t[13]=a*O+f*I+m*S+b*C,t[14]=o*O+s*I+p*S+v*C,t[15]=i*O+c*I+d*S+E*C,t},r.negate=function(e,r){return(r=r||new K(16))[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r[4]=-e[4],r[5]=-e[5],r[6]=-e[6],r[7]=-e[7],r[8]=-e[8],r[9]=-e[9],r[10]=-e[10],r[11]=-e[11],r[12]=-e[12],r[13]=-e[13],r[14]=-e[14],r[15]=-e[15],r},r.ortho=function(e,r,t,n,a,o,i){return(i=i||new K(16))[0]=2/(r-e),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(n-t),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(a-o),i[11]=0,i[12]=(r+e)/(e-r),i[13]=(n+t)/(t-n),i[14]=(o+a)/(a-o),i[15]=1,i},r.perspective=function(e,r,t,n,a){a=a||new K(16);var o=Math.tan(.5*Math.PI-.5*e),i=1/(t-n);return a[0]=o/r,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(t+n)*i,a[11]=-1,a[12]=0,a[13]=0,a[14]=t*n*i*2,a[15]=0,a},r.rotateX=function(e,r,t){t=t||new K(16);var n=e[4],a=e[5],o=e[6],i=e[7],u=e[8],f=e[9],s=e[10],c=e[11],l=Math.cos(r),m=Math.sin(r);t[4]=l*n+m*u,t[5]=l*a+m*f,t[6]=l*o+m*s,t[7]=l*i+m*c,t[8]=l*u-m*n,t[9]=l*f-m*a,t[10]=l*s-m*o,t[11]=l*c-m*i,e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotateY=function(e,r,t){t=t||new K(16);var n=e[0],a=e[1],o=e[2],i=e[3],u=e[8],f=e[9],s=e[10],c=e[11],l=Math.cos(r),m=Math.sin(r);t[0]=l*n-m*u,t[1]=l*a-m*f,t[2]=l*o-m*s,t[3]=l*i-m*c,t[8]=l*u+m*n,t[9]=l*f+m*a,t[10]=l*s+m*o,t[11]=l*c+m*i,e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotateZ=function(e,r,t){t=t||new K(16);var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],f=e[5],s=e[6],c=e[7],l=Math.cos(r),m=Math.sin(r);t[0]=l*n+m*u,t[1]=l*a+m*f,t[2]=l*o+m*s,t[3]=l*i+m*c,t[4]=l*u-m*n,t[5]=l*f-m*a,t[6]=l*s-m*o,t[7]=l*c-m*i,e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotationX=function(e,r){r=r||new K(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=t,r[6]=n,r[7]=0,r[8]=0,r[9]=-n,r[10]=t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.rotationY=function(e,r){r=r||new K(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=t,r[1]=0,r[2]=-n,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=n,r[9]=0,r[10]=t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.rotationZ=function(e,r){r=r||new K(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=t,r[1]=n,r[2]=0,r[3]=0,r[4]=-n,r[5]=t,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.scale=function(e,r,t){t=t||new K(16);var n=r[0],a=r[1],o=r[2];t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=n*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=a*e[6],t[7]=a*e[7],t[8]=o*e[8],t[9]=o*e[9],t[10]=o*e[10],t[11]=o*e[11],e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.scaling=function(e,r){return(r=r||new K(16))[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.setAxis=function(e,r,t,n){n!==e&&(n=o(e,n));var a=4*t;return n[a+0]=r[0],n[a+1]=r[1],n[a+2]=r[2],n},r.setDefaultType=function(e){var r=K;return K=e,r},r.setTranslation=function(e,r,t){t=t||n(),e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]);return t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},r.transformDirection=function(e,r,t){t=t||u.create();var n=r[0],a=r[1],o=r[2];return t[0]=n*e[0]+a*e[4]+o*e[8],t[1]=n*e[1]+a*e[5]+o*e[9],t[2]=n*e[2]+a*e[6]+o*e[10],t},r.transformNormal=function(e,r,t){t=t||u.create();var n=l(e),a=r[0],o=r[1],i=r[2];return t[0]=a*n[0]+o*n[1]+i*n[2],t[1]=a*n[4]+o*n[5]+i*n[6],t[2]=a*n[8]+o*n[9]+i*n[10],t},r.transformPoint=function(e,r,t){t=t||u.create();var n=r[0],a=r[1],o=r[2],i=n*e[3]+a*e[7]+o*e[11]+e[15];return t[0]=(n*e[0]+a*e[4]+o*e[8]+e[12])/i,t[1]=(n*e[1]+a*e[5]+o*e[9]+e[13])/i,t[2]=(n*e[2]+a*e[6]+o*e[10]+e[14])/i,t},r.translate=function(e,r,t){t=t||new K(16);var n=r[0],a=r[1],o=r[2],i=e[0],u=e[1],f=e[2],s=e[3],c=e[4],l=e[5],m=e[6],p=e[7],d=e[8],y=e[9],b=e[10],v=e[11],E=e[12],h=e[13],_=e[14],A=e[15];e!==t&&(t[0]=i,t[1]=u,t[2]=f,t[3]=s,t[4]=c,t[5]=l,t[6]=m,t[7]=p,t[8]=d,t[9]=y,t[10]=b,t[11]=v);return t[12]=i*n+c*a+d*o+E,t[13]=u*n+l*a+y*o+h,t[14]=f*n+m*a+b*o+_,t[15]=s*n+p*a+v*o+A,t},r.translation=function(e,r){return(r=r||new K(16))[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r},r.transpose=function(e,r){if((r=r||new K(16))===e){var t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,r}var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],f=e[5],s=e[6],c=e[7],l=e[8],m=e[9],p=e[10],d=e[11],y=e[12],b=e[13],v=e[14],E=e[15];return r[0]=n,r[1]=u,r[2]=l,r[3]=y,r[4]=a,r[5]=f,r[6]=m,r[7]=b,r[8]=o,r[9]=s,r[10]=p,r[11]=v,r[12]=i,r[13]=c,r[14]=d,r[15]=E,r};var u=function(e){{if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}}(t(3));var K=Float32Array,f=u.create(),s=u.create(),c=u.create();function o(e,r){return(r=r||new K(16))[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function n(e){return(e=e||new K(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,r){r=r||new K(16);var t=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],f=e[6],s=e[7],c=e[8],l=e[9],m=e[10],p=e[11],d=e[12],y=e[13],b=e[14],v=e[15],E=m*v,h=b*p,_=f*v,A=b*s,T=f*p,x=m*s,g=a*v,R=b*o,P=a*p,F=m*o,U=a*s,w=f*o,B=c*y,O=d*l,I=i*y,S=d*u,C=i*l,M=c*u,D=t*y,N=d*n,L=t*l,k=c*n,j=t*u,z=i*n,G=E*u+A*l+T*y-(h*u+_*l+x*y),X=h*n+g*l+F*y-(E*n+R*l+P*y),V=_*n+R*u+U*y-(A*n+g*u+w*y),Y=x*n+P*u+w*l-(T*n+F*u+U*l),W=1/(t*G+i*X+c*V+d*Y);return r[0]=W*G,r[1]=W*X,r[2]=W*V,r[3]=W*Y,r[4]=W*(h*i+_*c+x*d-(E*i+A*c+T*d)),r[5]=W*(E*t+R*c+P*d-(h*t+g*c+F*d)),r[6]=W*(A*t+g*i+w*d-(_*t+R*i+U*d)),r[7]=W*(T*t+F*i+U*c-(x*t+P*i+w*c)),r[8]=W*(B*s+S*p+C*v-(O*s+I*p+M*v)),r[9]=W*(O*o+D*p+k*v-(B*o+N*p+L*v)),r[10]=W*(I*o+N*s+j*v-(S*o+D*s+z*v)),r[11]=W*(M*o+L*s+z*p-(C*o+k*s+j*p)),r[12]=W*(I*m+M*b+O*f-(C*b+B*f+S*m)),r[13]=W*(L*b+B*a+N*m-(D*m+k*b+O*a)),r[14]=W*(D*f+z*b+S*a-(j*b+I*a+N*f)),r[15]=W*(j*m+C*a+k*f-(L*f+z*m+M*a)),r}},function(e,r,t){"use strict";r.__esModule=!0,r.createAttribsFromArrays=s,r.createBuffersFromArrays=function(r,t){var n={};Object.keys(t).forEach(function(e){n[e]=c(r,t[e],e)}),t.indices?(n.numElements=t.indices.length,n.elementType=b.getGLTypeForTypedArray(T(t.indices),"indices")):n.numElements=function(e){var r,t;for(t=0;t<m.length&&!((r=m[t])in e);++t);t===m.length&&(r=Object.keys(e)[0]);var n=e[r],a=u(n).length,o=A(n,r),i=a/o;if(0<a%o)throw"numComponents "+o+" not correct for length "+a;return i}(t);return n},r.createBufferFromArray=c,r.createBufferFromTypedArray=E,r.createBufferInfoFromArrays=function(e,r,t){var n=s(e,r),a=Object.assign({},t||{});a.attribs=Object.assign({},t?t.attribs:{},n);var o=r.indices;if(o){var i=T(o,"indices");a.indices=E(e,i,e.ELEMENT_ARRAY_BUFFER),a.numElements=i.length,a.elementType=b.getGLTypeForTypedArray(i)}else a.numElements||(a.numElements=function(e,r){var t,n;for(n=0;n<m.length&&!((t=m[n])in r)&&!((t=v.attribPrefix+t)in r);++n);n===m.length&&(t=Object.keys(r)[0]);var a=r[t];e.bindBuffer(e.ARRAY_BUFFER,a.buffer);var o=e.getBufferParameter(e.ARRAY_BUFFER,e.BUFFER_SIZE);e.bindBuffer(e.ARRAY_BUFFER,null);var i=(c=e,l=a.type,l===c.BYTE?1:l===c.UNSIGNED_BYTE?1:l===c.SHORT?2:l===c.UNSIGNED_SHORT?2:l===c.INT?4:l===c.UNSIGNED_INT?4:l===c.FLOAT?4:0),u=o/i,f=a.numComponents||a.size,s=u/f;var c,l;if(s%1!=0)throw"numComponents "+f+" not correct for length "+length;return s}(e,a.attribs));return a},r.setAttribInfoBufferFromArray=function(e,r,t,n){t=T(t),void 0!==n?(e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.bufferSubData(e.ARRAY_BUFFER,n,t)):i(e,e.ARRAY_BUFFER,r.buffer,t,r.drawType)},r.setAttributePrefix=function(e){v.attribPrefix=e},r.setAttributeDefaults_=function(e){o.copyExistingProperties(e,v)},r.getNumComponents_=A,r.getArray_=u;var b=n(t(1)),o=n(t(0));function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var v={attribPrefix:""};function i(e,r,t,n,a){e.bindBuffer(r,t),e.bufferData(r,n,a||e.STATIC_DRAW)}function E(e,r,t,n){if(o.isBuffer(e,r))return r;t=t||e.ARRAY_BUFFER;var a=e.createBuffer();return i(e,t,a,r,n),a}function h(e){return"indices"===e}function u(e){return e.length?e:e.data}var a=/coord|texture/i,f=/color|colour/i;function _(e,r){var t;if(0<r%(t=a.test(e)?2:f.test(e)?4:3))throw"Can not guess numComponents for attribute '"+e+"'. Tried "+t+" but "+r+" values is not evenly divisible by "+t+". You should specify it.";return t}function A(e,r){return e.numComponents||e.size||_(r,u(e).length)}function T(e,r){if(b.isArrayBuffer(e))return e;if(b.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var t=e.type;return t||(t=h(r)?Uint16Array:Float32Array),new t(e.data)}function s(p,d){var y={};return Object.keys(d).forEach(function(e){if(!h(e)){var r=d[e],t=r.attrib||r.name||r.attribName||v.attribPrefix+e;if(r.value){if(!Array.isArray(r.value)&&!b.isArrayBuffer(r.value))throw new Error("array.value is not array or typedarray");y[t]={value:r.value}}else{var n,a,o,i;if(r.buffer&&r.buffer instanceof WebGLBuffer)n=r.buffer,i=r.numComponents||r.size,a=r.type,o=r.normalize;else if("number"==typeof r||"number"==typeof r.data){var u=r.data||r,f=r.type||Float32Array,s=u*f.BYTES_PER_ELEMENT;a=b.getGLTypeForTypedArrayType(f),o=void 0!==r.normalize?r.normalize:(m=f)===Int8Array||m===Uint8Array,i=r.numComponents||r.size||_(e,u),n=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,n),p.bufferData(p.ARRAY_BUFFER,s,r.drawType||p.STATIC_DRAW)}else{var c=T(r,e);n=E(p,c,void 0,r.drawType),a=b.getGLTypeForTypedArray(c),o=void 0!==r.normalize?r.normalize:(l=c)instanceof Int8Array||l instanceof Uint8Array,i=A(r,e)}y[t]={buffer:n,numComponents:i,type:a,normalize:o,stride:r.stride||0,offset:r.offset||0,divisor:void 0===r.divisor?void 0:r.divisor,drawType:r.drawType}}}var l,m}),p.bindBuffer(p.ARRAY_BUFFER,null),y}var m=["position","positions","a_position"];function c(e,r,t){var n="indices"===t?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;return E(e,T(r,t),n)}},function(e,r,t){"use strict";r.__esModule=!0,r.setTextureDefaults_=function(e){l.copyExistingProperties(e,R),e.textureColor&&D(e.textureColor)},r.createSampler=Y,r.createSamplers=function(r,t){var n={};return Object.keys(t).forEach(function(e){n[e]=Y(r,t[e])}),n},r.setSamplerParameters=V,r.createTexture=ie,r.setEmptyTexture=oe,r.setTextureFromArray=ae,r.loadTextureFromUrl=re,r.setTextureFromElement=Z,r.setTextureFilteringForSize=W,r.setTextureParameters=X,r.setDefaultTextureColor=D,r.createTextures=function(a,o,e){e=e||Q;var i=0,u=[],f={},s={};function c(){0===i&&setTimeout(function(){e(u.length?u:void 0,f,s)},0)}return Object.keys(o).forEach(function(n){var e,r,t=o[n];("string"==typeof(r=t.src)||Array.isArray(r)&&"string"==typeof r[0])&&(e=function(e,r,t){s[n]=t,--i,e&&u.push(e),c()},++i),f[n]=ie(a,t,e)}),c(),f},r.resizeTexture=function(e,r,t,n,a){n=n||t.width,a=a||t.height;var o=t.target||e.TEXTURE_2D;e.bindTexture(o,r);var i,u=t.level||0,f=t.internalFormat||t.format||e.RGBA,s=I(f),c=t.format||s.format,l=t.src;i=l&&(A(l)||Array.isArray(l)&&"number"==typeof l[0])?t.type||C(e,l,s.type):t.type||s.type;if(o===e.TEXTURE_CUBE_MAP)for(var m=0;m<6;++m)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,u,f,n,a,0,c,i,null);else e.texImage2D(o,u,f,n,a,0,c,i,null)},r.getNumComponentsForFormat=function(e){var r=F[e];if(!r)throw"unknown format: "+e;return r.numColorComponents},r.getBytesPerElementForInternalFormat=O;var n,h=a(t(4)),_=a(t(1)),l=a(t(0)),g=(n=t(2))&&n.__esModule?n:{default:n};function a(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var R={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},A=_.isArrayBuffer,P=g.default.document&&g.default.document.createElement?g.default.document.createElement("canvas").getContext("2d"):null,o=6407,i=6408,u=5120,f=5121,s=5123,c=5125,m=5126,p=5131,d=36193,y=33319,b=33320,v=6403,E=36244,T=36248,x=36249,F={},U=F;U[6406]={numColorComponents:1},U[6409]={numColorComponents:1},U[6410]={numColorComponents:2},U[o]={numColorComponents:3},U[i]={numColorComponents:4},U[v]={numColorComponents:1},U[E]={numColorComponents:1},U[y]={numColorComponents:2},U[b]={numColorComponents:2},U[o]={numColorComponents:3},U[T]={numColorComponents:3},U[i]={numColorComponents:4},U[x]={numColorComponents:4},U[6402]={numColorComponents:1},U[34041]={numColorComponents:2};var w={},B=w;function O(e,r){var t=w[e];if(!t)throw"unknown internal format";var n=t.bytesPerElementMap[r];if(void 0===n)throw"unknown internal format";return n}function I(e){var r=w[e];if(!r)throw"unknown internal format";return{format:r.textureFormat,type:Array.isArray(r.type)?r.type[0]:r.type}}function S(e){return 0==(e&e-1)}function C(e,r,t){return A(r)?_.getGLTypeForTypedArray(r):t||e.UNSIGNED_BYTE}function M(e,r,t,n,a){if(a%1!=0)throw"can't guess dimensions";if(t||n){if(n){if(!t&&(t=a/n)%1)throw"can't guess dimensions"}else if((n=a/t)%1)throw"can't guess dimensions"}else{var o=Math.sqrt(a/(r===e.TEXTURE_CUBE_MAP?6:1));o%1==0?n=t=o:(t=a,n=1)}return{width:t,height:n}}function D(e){R.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}B[6406]={textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[f,p,d,m]},B[6409]={textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[f,p,d,m]},B[6410]={textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[f,p,d,m]},B[o]={textureFormat:o,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[f,p,d,m,33635]},B[i]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[f,p,d,m,32819,32820]},B[33321]={textureFormat:v,colorRenderable:!0,textureFilterable:!0,bytesPerElement:1,type:f},B[36756]={textureFormat:v,colorRenderable:!1,textureFilterable:!0,bytesPerElement:1,type:u},B[33325]={textureFormat:v,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[m,p]},B[33326]={textureFormat:v,colorRenderable:!1,textureFilterable:!1,bytesPerElement:4,type:m},B[33330]={textureFormat:E,colorRenderable:!0,textureFilterable:!1,bytesPerElement:1,type:f},B[33329]={textureFormat:E,colorRenderable:!0,textureFilterable:!1,bytesPerElement:1,type:u},B[33332]={textureFormat:E,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:s},B[33331]={textureFormat:E,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5122},B[33334]={textureFormat:E,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:c},B[33333]={textureFormat:E,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5124},B[33323]={textureFormat:y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:2,type:f},B[36757]={textureFormat:y,colorRenderable:!1,textureFilterable:!0,bytesPerElement:2,type:u},B[33327]={textureFormat:y,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[m,p]},B[33328]={textureFormat:y,colorRenderable:!1,textureFilterable:!1,bytesPerElement:8,type:m},B[33336]={textureFormat:b,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:f},B[33335]={textureFormat:b,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:u},B[33338]={textureFormat:b,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:s},B[33337]={textureFormat:b,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5122},B[33340]={textureFormat:b,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:c},B[33339]={textureFormat:b,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5124},B[32849]={textureFormat:o,colorRenderable:!0,textureFilterable:!0,bytesPerElement:3,type:f},B[35905]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:3,type:f},B[36194]={textureFormat:o,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[f,33635]},B[36758]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:3,type:u},B[35898]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[m,p,35899]},B[35901]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[m,p,35902]},B[34843]={textureFormat:o,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[m,p]},B[34837]={textureFormat:o,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:m},B[36221]={textureFormat:T,colorRenderable:!1,textureFilterable:!1,bytesPerElement:3,type:f},B[36239]={textureFormat:T,colorRenderable:!1,textureFilterable:!1,bytesPerElement:3,type:u},B[36215]={textureFormat:T,colorRenderable:!1,textureFilterable:!1,bytesPerElement:6,type:s},B[36233]={textureFormat:T,colorRenderable:!1,textureFilterable:!1,bytesPerElement:6,type:5122},B[36209]={textureFormat:T,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:c},B[36227]={textureFormat:T,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:5124},B[32856]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:f},B[35907]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:f},B[36759]={textureFormat:i,colorRenderable:!1,textureFilterable:!0,bytesPerElement:4,type:u},B[32855]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[f,32820,33640]},B[32854]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[f,32819]},B[32857]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:33640},B[34842]={textureFormat:i,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[m,p]},B[34836]={textureFormat:i,colorRenderable:!1,textureFilterable:!1,bytesPerElement:16,type:m},B[36220]={textureFormat:x,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:f},B[36238]={textureFormat:x,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:u},B[36975]={textureFormat:x,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:33640},B[36214]={textureFormat:x,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:s},B[36232]={textureFormat:x,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5122},B[36226]={textureFormat:x,colorRenderable:!0,textureFilterable:!1,bytesPerElement:16,type:5124},B[36208]={textureFormat:x,colorRenderable:!0,textureFilterable:!1,bytesPerElement:16,type:c},B[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[s,c]},B[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:c},B[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:m},B[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:34042},B[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:36269},Object.keys(B).forEach(function(e){var n=B[e];if(n.bytesPerElementMap={},Array.isArray(n.bytesPerElement))n.bytesPerElement.forEach(function(e,r){var t=n.type[r];n.bytesPerElementMap[t]=e});else{var r=n.type;n.bytesPerElementMap[r]=n.bytesPerElement}});var N={};function L(e,r){void 0!==r.colorspaceConversion&&(N.colorspaceConversion=e.getParameter(e.UNPACK_COLORSPACE_CONVERSION_WEBGL),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.colorspaceConversion)),void 0!==r.premultiplyAlpha&&(N.premultiplyAlpha=e.getParameter(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha)),void 0!==r.flipY&&(N.flipY=e.getParameter(e.UNPACK_FLIP_Y_WEBGL),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY))}function k(e,r){void 0!==r.colorspaceConversion&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,N.colorspaceConversion),void 0!==r.premultiplyAlpha&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),void 0!==r.flipY&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,N.flipY)}function j(e){N.unpackAlignment=e.getParameter(e.UNPACK_ALIGNMENT),h.isWebGL2(e)&&(N.unpackRowLength=e.getParameter(e.UNPACK_ROW_LENGTH),N.unpackImageHeight=e.getParameter(e.UNPACK_IMAGE_HEIGHT),N.unpackSkipPixels=e.getParameter(e.UNPACK_SKIP_PIXELS),N.unpackSkipRows=e.getParameter(e.UNPACK_SKIP_ROWS),N.unpackSkipImages=e.getParameter(e.UNPACK_SKIP_IMAGES))}function z(e){e.pixelStorei(e.UNPACK_ALIGNMENT,N.unpackAlignment),h.isWebGL2(e)&&(e.pixelStorei(e.UNPACK_ROW_LENGTH,N.unpackRowLength),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,N.unpackImageHeight),e.pixelStorei(e.UNPACK_SKIP_PIXELS,N.unpackSkipPixels),e.pixelStorei(e.UNPACK_SKIP_ROWS,N.unpackSkipRows),e.pixelStorei(e.UNPACK_SKIP_IMAGES,N.unpackSkipImages))}function G(e,r,t,n){n.minMag&&(t.call(e,r,e.TEXTURE_MIN_FILTER,n.minMag),t.call(e,r,e.TEXTURE_MAG_FILTER,n.minMag)),n.min&&t.call(e,r,e.TEXTURE_MIN_FILTER,n.min),n.mag&&t.call(e,r,e.TEXTURE_MAG_FILTER,n.mag),n.wrap&&(t.call(e,r,e.TEXTURE_WRAP_S,n.wrap),t.call(e,r,e.TEXTURE_WRAP_T,n.wrap),(r===e.TEXTURE_3D||l.isSampler(e,r))&&t.call(e,r,e.TEXTURE_WRAP_R,n.wrap)),n.wrapR&&t.call(e,r,e.TEXTURE_WRAP_R,n.wrapR),n.wrapS&&t.call(e,r,e.TEXTURE_WRAP_S,n.wrapS),n.wrapT&&t.call(e,r,e.TEXTURE_WRAP_T,n.wrapT),n.minLod&&t.call(e,r,e.TEXTURE_MIN_LOD,n.minLod),n.maxLod&&t.call(e,r,e.TEXTURE_MAX_LOD,n.maxLod),n.baseLevel&&t.call(e,r,e.TEXTURE_BASE_LEVEL,n.baseLevel),n.maxLevel&&t.call(e,r,e.TEXTURE_MAX_LEVEL,n.maxLevel)}function X(e,r,t){var n=t.target||e.TEXTURE_2D;e.bindTexture(n,r),G(e,n,e.texParameteri,t)}function V(e,r,t){G(e,r,e.samplerParameteri,t)}function Y(e,r){var t=e.createSampler();return V(e,t,r),t}function W(e,r,t,n,a,o,i){t=t||R.textureOptions,o=o||e.RGBA,i=i||e.UNSIGNED_BYTE;var u=t.target||e.TEXTURE_2D;if(n=n||t.width,a=a||t.height,e.bindTexture(u,r),function(e,r,t,n){if(!h.isWebGL2(e))return S(r)&&S(t);var a=w[n];if(!a)throw"unknown internal format";return a.colorRenderable&&a.textureFilterable}(e,n,a,o))e.generateMipmap(u);else{var f=function(e){var r=w[e];if(!r)throw"unknown internal format";return r.textureFilterable}(o)?e.LINEAR:e.NEAREST;e.texParameteri(u,e.TEXTURE_MIN_FILTER,f),e.texParameteri(u,e.TEXTURE_MAG_FILTER,f),e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}function K(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function H(e,r){return(r=r||{}).cubeFaceOrder||[e.TEXTURE_CUBE_MAP_POSITIVE_X,e.TEXTURE_CUBE_MAP_NEGATIVE_X,e.TEXTURE_CUBE_MAP_POSITIVE_Y,e.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.TEXTURE_CUBE_MAP_POSITIVE_Z,e.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function q(e,r){var t=H(e,r).map(function(e,r){return{face:e,ndx:r}});return t.sort(function(e,r){return e.face-r.face}),t}function Z(n,a,o,i){var u=(i=i||R.textureOptions).target||n.TEXTURE_2D,f=i.level||0,s=o.width,c=o.height,l=i.internalFormat||i.format||n.RGBA,e=I(l),m=i.format||e.format,p=i.type||e.type;if(L(n,i),n.bindTexture(u,a),u===n.TEXTURE_CUBE_MAP){var d,y,r=o.width,t=o.height;if(r/6===t)d=t,y=[0,0,1,0,2,0,3,0,4,0,5,0];else if(t/6===r)d=r,y=[0,0,0,1,0,2,0,3,0,4,0,5];else if(r/3==t/2)d=r/3,y=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(r/2!=t/3)throw"can't figure out cube map from element: "+(o.src?o.src:o.nodeName);d=r/2,y=[0,0,1,0,0,1,1,1,0,2,1,2]}P?(P.canvas.width=d,P.canvas.height=d,c=s=d,q(n,i).forEach(function(e){var r=y[2*e.ndx+0]*d,t=y[2*e.ndx+1]*d;P.drawImage(o,r,t,d,d,0,0,d,d),n.texImage2D(e.face,f,l,m,p,P.canvas)}),P.canvas.width=1,P.canvas.height=1):g.default.createImageBitmap&&(c=s=d,q(n,i).forEach(function(r){var e=y[2*r.ndx+0]*d,t=y[2*r.ndx+1]*d;n.texImage2D(r.face,f,l,d,d,0,m,p,null),g.default.createImageBitmap(o,e,t,d,d,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(e){L(n,i),n.bindTexture(u,a),n.texImage2D(r.face,f,l,m,p,e),k(n,i),K(i)&&W(n,a,i,s,c,l,p)})}))}else if(u===n.TEXTURE_3D||u===n.TEXTURE_2D_ARRAY){var b=Math.min(o.width,o.height),v=Math.max(o.width,o.height),E=v/b;if(E%1!=0)throw"can not compute 3D dimensions of element";var h=o.width===v?1:0,_=o.height===v?1:0;j(n),n.pixelStorei(n.UNPACK_ALIGNMENT,1),n.pixelStorei(n.UNPACK_ROW_LENGTH,o.width),n.pixelStorei(n.UNPACK_IMAGE_HEIGHT,0),n.pixelStorei(n.UNPACK_SKIP_IMAGES,0),n.texImage3D(u,f,l,b,b,b,0,m,p,null);for(var A=0;A<E;++A){var T=A*b*h,x=A*b*_;n.pixelStorei(n.UNPACK_SKIP_PIXELS,T),n.pixelStorei(n.UNPACK_SKIP_ROWS,x),n.texSubImage3D(u,f,0,0,A,b,b,1,m,p,o)}z(n)}else n.texImage2D(u,f,l,m,p,o);k(n,i),K(i)&&W(n,a,i,s,c,l,p),X(n,a,i)}function Q(){}function $(e){return g.default.ImageBitmap&&e instanceof g.default.ImageBitmap||g.default.ImageData&&e instanceof g.default.ImageData||g.default.HTMLElement&&e instanceof g.default.HTMLElement}function J(e,r,t){return $(e)?(setTimeout(function(){t(null,e)}),e):function(r,e,t){var n;if(t=t||Q,g.default.Image){n=new g.default.Image,void 0!==(e=void 0!==e?e:R.crossOrigin)&&(n.crossOrigin=e);var a=function(){n.removeEventListener("error",o),n.removeEventListener("load",i),n=null},o=function(){var e="couldn't load image: "+r;l.error(e),t(e,n),a()},i=function(){t(null,n),a()};return n.addEventListener("error",o),n.addEventListener("load",i),n.src=r,n}if(g.default.ImageBitmap){var u,f,s=function(){t(u,f)},c={};e&&(c.mode="cors"),fetch(r,c).then(function(e){if(!e.ok)throw e;return e.blob()}).then(function(e){return g.default.createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(e){f=e,setTimeout(s)}).catch(function(e){u=e,setTimeout(s)}),n=null}return n}(e,r,t)}function ee(e,r,t){var n=(t=t||R.textureOptions).target||e.TEXTURE_2D;if(e.bindTexture(n,r),!1!==t.color){var a,o=(a=(a=t.color)||R.textureColor,A(a)?a:new Uint8Array([255*a[0],255*a[1],255*a[2],255*a[3]]));if(n===e.TEXTURE_CUBE_MAP)for(var i=0;i<6;++i)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o);else n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage2D(n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o)}}function re(t,n,a,o){return o=o||Q,a=a||R.textureOptions,ee(t,n,a),J((a=Object.assign({},a)).src,a.crossOrigin,function(e,r){e?o(e,n,r):(Z(t,n,r,a),o(null,n,r))})}function te(n,a,o,i){i=i||Q;var e=o.src;if(6!==e.length)throw"there must be 6 urls for a cubemap";var u=o.level||0,f=o.internalFormat||o.format||n.RGBA,r=I(f),s=o.format||r.format,c=o.type||n.UNSIGNED_BYTE,l=o.target||n.TEXTURE_2D;if(l!==n.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";ee(n,a,o),o=Object.assign({},o);var m,p=6,d=[],y=H(n,o);m=e.map(function(e,r){return J(e,o.crossOrigin,(t=y[r],function(e,r){--p,e?d.push(e):r.width!==r.height?d.push("cubemap face img is not a square: "+r.src):(L(n,o),n.bindTexture(l,a),5===p?H(n).forEach(function(e){n.texImage2D(e,u,f,s,c,r)}):n.texImage2D(t,u,f,s,c,r),k(n,o),K(o)&&n.generateMipmap(l)),0===p&&i(d.length?d:void 0,a,m)}));var t})}function ne(o,i,u,f){f=f||Q;var e=u.src,s=u.internalFormat||u.format||o.RGBA,r=I(s),c=u.format||r.format,l=u.type||o.UNSIGNED_BYTE,m=u.target||o.TEXTURE_2D_ARRAY;if(m!==o.TEXTURE_3D&&m!==o.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";ee(o,i,u),u=Object.assign({},u);var p,d=e.length,y=[],b=u.level||0,v=u.width,E=u.height,h=e.length,_=!0;p=e.map(function(e,r){return J(e,u.crossOrigin,(a=r,function(e,r){if(--d,e)y.push(e);else{if(L(o,u),o.bindTexture(m,i),_){_=!1,v=u.width||r.width,E=u.height||r.height,o.texImage3D(m,b,s,v,E,h,0,c,l,null);for(var t=0;t<h;++t)o.texSubImage3D(m,b,0,0,t,v,E,1,c,l,r)}else{var n=r;r.width===v&&r.height===E||(n=P.canvas,P.canvas.width=v,P.canvas.height=E,P.drawImage(r,0,0,v,E)),o.texSubImage3D(m,b,0,0,a,v,E,1,c,l,n),n===P.canvas&&(P.canvas.width=0,P.canvas.height=0)}k(o,u),K(u)&&o.generateMipmap(m)}0===d&&f(y.length?y:void 0,i,p)}));var a})}function ae(n,e,a,r){var t=(r=r||R.textureOptions).target||n.TEXTURE_2D;n.bindTexture(t,e);var o=r.width,i=r.height,u=r.depth,f=r.level||0,s=r.internalFormat||r.format||n.RGBA,c=I(s),l=r.format||c.format,m=r.type||C(n,a,c.type);if(A(a))a instanceof Uint8ClampedArray&&(a=new Uint8Array(a.buffer));else{var p=_.getTypedArrayTypeForGLType(m);a=new p(a)}var d,y=O(s,m),b=a.byteLength/y;if(b%1)throw"length wrong size for format: "+h.glEnumToString(n,l);if(t===n.TEXTURE_3D)if(o||i||u)!o||i&&u?!i||o&&u?(d=M(n,t,o,i,b/u),o=d.width,i=d.height):(d=M(n,t,o,u,b/i),o=d.width,u=d.height):(d=M(n,t,i,u,b/o),i=d.width,u=d.height);else{var v=Math.cbrt(b);if(v%1!=0)throw"can't guess cube size of array of numElements: "+b;u=i=o=v}else d=M(n,t,o,i,b),o=d.width,i=d.height;if(j(n),n.pixelStorei(n.UNPACK_ALIGNMENT,r.unpackAlignment||1),L(n,r),t===n.TEXTURE_CUBE_MAP){var E=b/6*(y/a.BYTES_PER_ELEMENT);q(n,r).forEach(function(e){var r=E*e.ndx,t=a.subarray(r,r+E);n.texImage2D(e.face,f,s,o,i,0,l,m,t)})}else t===n.TEXTURE_3D?n.texImage3D(t,f,s,o,i,u,0,l,m,a):n.texImage2D(t,f,s,o,i,0,l,m,a);return k(n,r),z(n),{width:o,height:i,depth:u,type:m}}function oe(e,r,t){var n=t.target||e.TEXTURE_2D;e.bindTexture(n,r);var a=t.level||0,o=t.internalFormat||t.format||e.RGBA,i=I(o),u=t.format||i.format,f=t.type||i.type;if(L(e,t),n===e.TEXTURE_CUBE_MAP)for(var s=0;s<6;++s)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,a,o,t.width,t.height,0,u,f,null);else n===e.TEXTURE_3D?e.texImage3D(n,a,o,t.width,t.height,t.depth,0,u,f,null):e.texImage2D(n,a,o,t.width,t.height,0,u,f,null);k(e,t)}function ie(e,r,t){t=t||Q,r=r||R.textureOptions;var n=e.createTexture(),a=r.target||e.TEXTURE_2D,o=r.width||1,i=r.height||1,u=r.internalFormat||e.RGBA,f=I(u),s=r.type||f.type;e.bindTexture(a,n),a===e.TEXTURE_CUBE_MAP&&(e.texParameteri(a,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(a,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));var c=r.src;if(c)if("function"==typeof c&&(c=c(e,r)),"string"==typeof c)re(e,n,r,t);else if(A(c)||Array.isArray(c)&&("number"==typeof c[0]||Array.isArray(c[0])||A(c[0]))){var l=ae(e,n,c,r);o=l.width,i=l.height,s=l.type}else if(Array.isArray(c)&&("string"==typeof c[0]||$(c[0])))a===e.TEXTURE_CUBE_MAP?te(e,n,r,t):ne(e,n,r,t);else{if(!$(c))throw"unsupported src type";Z(e,n,c,r),o=c.width,i=c.height}else oe(e,n,r);return K(r)&&W(e,n,r,o,i,u,s),X(e,n,r),n}},function(e,r,t){"use strict";var n={m4:r.__esModule=!0,v3:!0,primitives:!0};r.primitives=r.v3=r.m4=void 0;var a=f(t(6));r.m4=a;var o=f(t(3));r.v3=o;var i=f(t(10));r.primitives=i;var u=t(11);function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=u[e]))})},function(e,r,t){"use strict";r.__esModule=!0,r.create3DFVertices=R,r.createAugmentedTypedArray=C,r.createCubeVertices=T,r.createPlaneVertices=h,r.createSphereVertices=_,r.createTruncatedConeVertices=x,r.createXYQuadVertices=b,r.createCresentVertices=P,r.createCylinderVertices=F,r.createTorusVertices=w,r.createDiscVertices=B,r.deindexVertices=function(f){var s=f.indices,c={},l=s.length;return Object.keys(f).filter(m).forEach(function(e){for(var r=f[e],t=r.numComponents,n=C(t,l,r.constructor),a=0;a<l;++a)for(var o=s[a],i=o*t,u=0;u<t;++u)n.push(r[i+u]);c[e]=n}),c},r.flattenNormals=function(e){if(e.indices)throw"can't flatten normals of indexed vertices. deindex them first";for(var r=e.normal,t=r.length,n=0;n<t;n+=9){var a=r[n+0],o=r[n+1],i=r[n+2],u=r[n+3],f=r[n+4],s=r[n+5],c=r[n+6],l=r[n+7],m=r[n+8],p=a+u+c,d=o+f+l,y=i+s+m,b=Math.sqrt(p*p+d*d+y*y);p/=b,d/=b,y/=b,r[n+0]=p,r[n+1]=d,r[n+2]=y,r[n+3]=p,r[n+4]=d,r[n+5]=y,r[n+6]=p,r[n+7]=d,r[n+8]=y}return e},r.makeRandomVertexColors=function(e,r){r=r||{};var t=e.position.numElements,n=C(4,t,Uint8Array),a=r.rand||function(e,r){return r<3?(t=256,Math.random()*t|0):255;var t};if(e.color=n,e.indices)for(var o=0;o<t;++o)n.push(a(o,0),a(o,1),a(o,2),a(o,3));else for(var i=r.vertsPerColor||3,u=t/i,f=0;f<u;++f)for(var s=[a(f,0),a(f,1),a(f,2),a(f,3)],c=0;c<i;++c)n.push(s);return e},r.reorientDirections=p,r.reorientNormals=d,r.reorientPositions=y,r.reorientVertices=E,r.concatVertices=function(s){for(var i,u={},e=function(e){var o=s[e];Object.keys(o).forEach(function(e){u[e]||(u[e]=[]),i||"indices"===e||(i=e);var r=o[e],t=f(r,e),n=c(r),a=n.length/t;u[e].push(a)})},r=0;r<s.length;++r)e(r);var n=u[i],a={};return Object.keys(u).forEach(function(e){var r=function(e){for(var r,t=0,n=0;n<s.length;++n){var a=s[n],o=a[e],i=c(o);t+=i.length,r&&!o.data||(r=o)}return{length:t,spec:r}}(e),t=D(r.spec,r.length);!function(e,r,t){for(var n=0,a=0,o=0;o<s.length;++o){var i=s[o],u=i[e],f=c(u);"indices"===e?(M(f,t,a,n),n+=r[o]):M(f,t,a),a+=f.length}}(e,n,c(t)),a[e]=t}),a},r.duplicateVertices=function(a){var o={};return Object.keys(a).forEach(function(e){var r=a[e],t=c(r),n=D(r,t.length);M(t,c(n),0),o[e]=n}),o},r.createDiscBuffers=r.createDiscBufferInfo=r.createTorusBuffers=r.createTorusBufferInfo=r.createCylinderBuffers=r.createCylinderBufferInfo=r.createCresentBuffers=r.createCresentBufferInfo=r.createXYQuadBuffers=r.createXYQuadBufferInfo=r.createTruncatedConeBuffers=r.createTruncatedConeBufferInfo=r.createSphereBuffers=r.createSphereBufferInfo=r.createPlaneBuffers=r.createPlaneBufferInfo=r.createCubeBuffers=r.createCubeBufferInfo=r.create3DFBuffers=r.create3DFBufferInfo=void 0;var n=a(t(7)),o=a(t(0)),i=a(t(1)),v=a(t(6)),U=a(t(3));function a(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var c=n.getArray_,f=n.getNumComponents_;function u(n,e){var a=0;return n.push=function(){for(var e=0;e<arguments.length;++e){var r=arguments[e];if(r instanceof Array||i.isArrayBuffer(r))for(var t=0;t<r.length;++t)n[a++]=r[t];else n[a++]=r}},n.reset=function(e){a=e||0},n.numComponents=e,Object.defineProperty(n,"numElements",{get:function(){return this.length/this.numComponents|0}}),n}function C(e,r,t){return u(new(t||Float32Array)(e*r),e)}function m(e){return"indices"!==e}function s(e,r,t){for(var n=e.length,a=new Float32Array(3),o=0;o<n;o+=3)t(r,[e[o],e[o+1],e[o+2]],a),e[o]=a[0],e[o+1]=a[1],e[o+2]=a[2]}function l(e,r,t){t=t||U.create();var n=r[0],a=r[1],o=r[2];return t[0]=n*e[0]+a*e[1]+o*e[2],t[1]=n*e[4]+a*e[5]+o*e[6],t[2]=n*e[8]+a*e[9]+o*e[10],t}function p(e,r){return s(e,r,v.transformDirection),e}function d(e,r){return s(e,v.inverse(r),l),e}function y(e,r){return s(e,r,v.transformPoint),e}function E(t,n){return Object.keys(t).forEach(function(e){var r=t[e];0<=e.indexOf("pos")?y(r,n):0<=e.indexOf("tan")||0<=e.indexOf("binorm")?p(r,n):0<=e.indexOf("norm")&&d(r,n)}),t}function b(e,r,t){return e=e||2,{position:{numComponents:2,data:[(r=r||0)+-1*(e*=.5),(t=t||0)+-1*e,r+1*e,t+-1*e,r+-1*e,t+1*e,r+1*e,t+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function h(e,r,t,n,a){e=e||1,r=r||1,t=t||1,n=n||1,a=a||v.identity();for(var o=(t+1)*(n+1),i=C(3,o),u=C(3,o),f=C(2,o),s=0;s<=n;s++)for(var c=0;c<=t;c++){var l=c/t,m=s/n;i.push(e*l-.5*e,0,r*m-.5*r),u.push(0,1,0),f.push(l,m)}for(var p=t+1,d=C(3,t*n*2,Uint16Array),y=0;y<n;y++)for(var b=0;b<t;b++)d.push((y+0)*p+b,(y+1)*p+b,(y+0)*p+b+1),d.push((y+1)*p+b,(y+1)*p+b+1,(y+0)*p+b+1);return E({position:i,normal:u,texcoord:f,indices:d},a)}function _(e,r,t,n,a,o,i){if(r<=0||t<=0)throw Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,o=o||0;for(var u=(a=a||Math.PI)-n,f=(i=i||2*Math.PI)-o,s=(r+1)*(t+1),c=C(3,s),l=C(3,s),m=C(2,s),p=0;p<=t;p++)for(var d=0;d<=r;d++){var y=d/r,b=p/t,v=f*y+o,E=u*b+n,h=Math.sin(v),_=Math.cos(v),A=Math.sin(E),T=_*A,x=Math.cos(E),g=h*A;c.push(e*T,e*x,e*g),l.push(T,x,g),m.push(1-y,b)}for(var R=r+1,P=C(3,r*t*2,Uint16Array),F=0;F<r;F++)for(var U=0;U<t;U++)P.push((U+0)*R+F,(U+0)*R+F+1,(U+1)*R+F),P.push((U+1)*R+F,(U+0)*R+F+1,(U+1)*R+F+1);return{position:c,normal:l,texcoord:m,indices:P}}var A=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function T(e){for(var r=(e=e||1)/2,t=[[-r,-r,-r],[+r,-r,-r],[-r,+r,-r],[+r,+r,-r],[-r,-r,+r],[+r,-r,+r],[-r,+r,+r],[+r,+r,+r]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],a=[[1,0],[0,0],[0,1],[1,1]],o=C(3,24),i=C(3,24),u=C(2,24),f=C(3,12,Uint16Array),s=0;s<6;++s){for(var c=A[s],l=0;l<4;++l){var m=t[c[l]],p=n[s],d=a[l];o.push(m),i.push(p),u.push(d)}var y=4*s;f.push(y+0,y+1,y+2),f.push(y+0,y+2,y+3)}return{position:o,normal:i,texcoord:u,indices:f}}function x(e,r,t,n,a,o,i){if(n<3)throw Error("radialSubdivisions must be 3 or greater");if(a<1)throw Error("verticalSubdivisions must be 1 or greater");for(var u=void 0===o||o,f=void 0===i||i,s=(u?2:0)+(f?2:0),c=(n+1)*(a+1+s),l=C(3,c),m=C(3,c),p=C(2,c),d=C(3,n*(a+s)*2,Uint16Array),y=n+1,b=Math.atan2(e-r,t),v=Math.cos(b),E=Math.sin(b),h=a+(f?2:0),_=u?-2:0;_<=h;++_){var A=_/a,T=t*A,x=void 0;_<0?(T=0,A=1,x=e):a<_?(T=t,A=1,x=r):x=e+_/a*(r-e),-2!==_&&_!==a+2||(A=x=0),T-=t/2;for(var g=0;g<y;++g){var R=Math.sin(g*Math.PI*2/n),P=Math.cos(g*Math.PI*2/n);l.push(R*x,T,P*x),m.push(_<0||a<_?0:R*v,_<0?-1:a<_?1:E,_<0||a<_?0:P*v),p.push(g/n,1-A)}}for(var F=0;F<a+s;++F)for(var U=0;U<n;++U)d.push(y*(F+0)+0+U,y*(F+0)+1+U,y*(F+1)+1+U),d.push(y*(F+0)+0+U,y*(F+1)+1+U,y*(F+1)+0+U);return{position:l,normal:m,texcoord:p,indices:d}}function g(e,r){r=r||[];for(var t=[],n=0;n<e.length;n+=4){var a=e[n],o=e.slice(n+1,n+4);o.push.apply(o,r);for(var i=0;i<a;++i)t.push.apply(t,o)}return t}function R(){var e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],r=g([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),t=g([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,a={position:C(3,n),texcoord:C(2,n),normal:C(3,n),color:C(4,n,Uint8Array),indices:C(3,n/3,Uint16Array)};a.position.push(e),a.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),a.normal.push(r),a.color.push(t);for(var o=0;o<n;++o)a.indices.push(o);return a}function P(h,e,r,_,A,T,t){if(A<=0)throw Error("subdivisionDown must be > 0");var x=2,g=(t=t||1)-(T=T||0),n=2*(A+1)*(2+x),R=C(3,n),P=C(3,n),F=C(2,n);function a(e,r,t,n,a,o){for(var i=0;i<=A;i++){var u=r/(x-1),f=i/A,s=2*(u-.5),c=(T+f*g)*Math.PI,l=Math.sin(c),m=Math.cos(c),p=(E=h)+(e-E)*l,d=s*_,y=m*h,b=l*p;R.push(d,y,b);var v=U.add(U.multiply([0,l,m],t),n);P.push(v),F.push(u*a+o,f)}var E}for(var o=0;o<x;o++){var i=2*(o/(x-1)-.5);a(e,o,[1,1,1],[0,0,0],1,0),a(e,o,[0,0,0],[i,0,0],0,0),a(r,o,[1,1,1],[0,0,0],1,0),a(r,o,[0,0,0],[i,0,0],0,1)}var u=C(3,2*A*(2+x),Uint16Array);function f(e,r){for(var t=0;t<A;++t)u.push(e+t+0,e+t+1,r+t+0),u.push(e+t+1,r+t+1,r+t+0)}var s=A+1;return f(0*s,4*s),f(5*s,7*s),f(6*s,2*s),f(3*s,1*s),{position:R,normal:P,texcoord:F,indices:u}}function F(e,r,t,n,a,o){return x(e,e,r,t,n,a,o)}function w(e,r,t,n,a,o){if(t<3)throw Error("radialSubdivisions must be 3 or greater");if(n<3)throw Error("verticalSubdivisions must be 3 or greater");a=a||0;for(var i=(o=o||2*Math.PI)-a,u=t+1,f=n+1,s=u*f,c=C(3,s),l=C(3,s),m=C(2,s),p=C(3,t*n*2,Uint16Array),d=0;d<f;++d)for(var y=d/n,b=y*Math.PI*2,v=Math.sin(b),E=e+v*r,h=Math.cos(b),_=h*r,A=0;A<u;++A){var T=A/t,x=a+T*i,g=Math.sin(x),R=Math.cos(x),P=g*E,F=R*E,U=g*v,w=R*v;c.push(P,_,F),l.push(U,h,w),m.push(T,1-y)}for(var B=0;B<n;++B)for(var O=0;O<t;++O){var I=1+O,S=1+B;p.push(u*B+O,u*S+O,u*B+I),p.push(u*S+O,u*S+I,u*B+I)}return{position:c,normal:l,texcoord:m,indices:p}}function B(e,r,t,n,a){if(r<3)throw Error("divisions must be at least 3");a=a||1,n=n||0;for(var o=(r+1)*((t=t||1)+1),i=C(3,o),u=C(3,o),f=C(2,o),s=C(3,t*r*2,Uint16Array),c=0,l=e-n,m=r+1,p=0;p<=t;++p){for(var d=n+l*Math.pow(p/t,a),y=0;y<=r;++y){var b=2*Math.PI*y/r,v=d*Math.cos(b),E=d*Math.sin(b);if(i.push(v,0,E),u.push(0,1,0),f.push(1-y/r,p/t),0<p&&y!==r){var h=c+(y+1),_=c+y,A=c+y-m,T=c+(y+1)-m;s.push(h,_,A),s.push(h,A,T)}}c+=r+1}return{position:i,normal:u,texcoord:f,indices:s}}function O(t){return function(e){var r=t.apply(this,Array.prototype.slice.call(arguments,1));return n.createBuffersFromArrays(e,r)}}function I(t){return function(e){var r=t.apply(null,Array.prototype.slice.call(arguments,1));return n.createBufferInfoFromArrays(e,r)}}var S=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function M(e,r,t,n){n=n||0;for(var a=e.length,o=0;o<a;++o)r[t+o]=e[o]+n}function D(e,r){var t=c(e),n=new t.constructor(r),a=n;return t.numComponents&&t.numElements&&u(n,t.numComponents),e.data&&(a={data:n},o.copyNamedProperties(S,e,a)),a}var N=I(R);r.create3DFBufferInfo=N;var L=O(R);r.create3DFBuffers=L;var k=I(T);r.createCubeBufferInfo=k;var j=O(T);r.createCubeBuffers=j;var z=I(h);r.createPlaneBufferInfo=z;var G=O(h);r.createPlaneBuffers=G;var X=I(_);r.createSphereBufferInfo=X;var V=O(_);r.createSphereBuffers=V;var Y=I(x);r.createTruncatedConeBufferInfo=Y;var W=O(x);r.createTruncatedConeBuffers=W;var K=I(b);r.createXYQuadBufferInfo=K;var H=O(b);r.createXYQuadBuffers=H;var q=I(P);r.createCresentBufferInfo=q;var Z=O(P);r.createCresentBuffers=Z;var Q=I(F);r.createCylinderBufferInfo=Q;var $=O(F);r.createCylinderBuffers=$;var J=I(w);r.createTorusBufferInfo=J;var ee=O(w);r.createTorusBuffers=ee;var re=I(B);r.createDiscBufferInfo=re;var te=O(B);r.createDiscBuffers=te},function(e,r,t){"use strict";var n={addExtensionsToContext:r.__esModule=!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0};r.addExtensionsToContext=E,r.getContext=function(e,r){return function(e,r){for(var t=["webgl2","webgl","experimental-webgl"],n=null,a=0;a<t.length;++a)if(n=e.getContext(t[a],r)){d.addExtensionsToContext&&E(n);break}return n}(e,r)},r.getWebGLContext=function(e,r){return function(e,r){for(var t=["webgl","experimental-webgl"],n=null,a=0;a<t.length;++a)if(n=e.getContext(t[a],r)){d.addExtensionsToContext&&E(n);break}return n}(e,r)},r.resizeCanvasToDisplaySize=function(e,r){r=r||1,r=Math.max(0,r);var t=e.clientWidth*r|0,n=e.clientHeight*r|0;if(e.width!==t||e.height!==n)return e.width=t,e.height=n,!0;return!1},r.setDefaults=function(e){l.copyExistingProperties(e,d),a.setAttributeDefaults_(e),o.setTextureDefaults_(e)};var a=p(t(7));Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=a[e]))});var o=p(t(8));Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=o[e]))});var l=p(t(0)),m=p(t(4));Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=m[e]))});var i=t(12);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=i[e]))});var u=t(13);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=u[e]))});var f=t(5);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=f[e]))});var s=t(1);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=s[e]))});var c=t(14);function p(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=c[e]))});var d={addExtensionsToContext:!0};var y=/^(.*?)_/;function b(e,r){m.glEnumToString(e,0);var t=e.getExtension(r);if(t){var n={},a=y.exec(r)[1],o="_"+a;for(var i in t){var u=t[i],f="function"==typeof u,s=f?a:o,c=i;i.endsWith(s)&&(c=i.substring(0,i.length-s.length)),void 0!==e[c]?f||e[c]===u||l.warn(c,e[c],u,i):f?e[c]=function(e){return function(){return e.apply(t,arguments)}}(u):(e[c]=u,n[c]=u)}n.constructor={name:t.constructor.name},m.glEnumToString(n,0)}return t}var v=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function E(e){for(var r=0;r<v.length;++r)b(e,v[r])}},function(e,r,t){"use strict";r.__esModule=!0,r.drawBufferInfo=s,r.drawObjectList=function(o,e){var i=null,u=null;e.forEach(function(e){if(!1!==e.active){var r=e.programInfo,t=e.vertexArrayInfo||e.bufferInfo,n=!1,a=void 0===e.type?o.TRIANGLES:e.type;r!==i&&(i=r,o.useProgram(r.program),n=!0),(n||t!==u)&&(u&&u.vertexArrayObject&&!t.vertexArrayObject&&o.bindVertexArray(null),u=t,f.setBuffersAndAttributes(o,r,t)),f.setUniforms(r,e.uniforms),s(o,t,a,e.count,e.offset,e.instanceCount)}}),u.vertexArrayObject&&o.bindVertexArray(null)};var f=function(e){{if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}}(t(5));function s(e,r,t,n,a,o){t=void 0===t?e.TRIANGLES:t;var i=r.indices,u=r.elementType,f=void 0===n?r.numElements:n;a=void 0===a?0:a,u||i?void 0!==o?e.drawElementsInstanced(t,f,void 0===u?e.UNSIGNED_SHORT:r.elementType,a,o):e.drawElements(t,f,void 0===u?e.UNSIGNED_SHORT:r.elementType,a):void 0!==o?e.drawArraysInstanced(t,a,f,o):e.drawArrays(t,a,f)}},function(e,r,t){"use strict";r.__esModule=!0,r.bindFramebufferInfo=function(e,r,t){t=t||e.FRAMEBUFFER,r?(e.bindFramebuffer(t,r.framebuffer),e.viewport(0,0,r.width,r.height)):(e.bindFramebuffer(t,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))},r.createFramebufferInfo=function(o,e,i,u){var f=o.FRAMEBUFFER,r=o.createFramebuffer();o.bindFramebuffer(f,r),i=i||o.drawingBufferWidth,u=u||o.drawingBufferHeight;var s=0,c={framebuffer:r,attachments:[],width:i,height:u};return(e=e||d).forEach(function(e){var r=e.attachment,t=e.format,n=y[t];if(n||(n=p+s++),!r)if(b[t])r=o.createRenderbuffer(),o.bindRenderbuffer(o.RENDERBUFFER,r),o.renderbufferStorage(o.RENDERBUFFER,t,i,u);else{var a=Object.assign({},e);a.width=i,a.height=u,void 0===a.auto&&(a.auto=!1,a.min=a.min||a.minMag||o.LINEAR,a.mag=a.mag||a.minMag||o.LINEAR,a.wrapS=a.wrapS||a.wrap||o.CLAMP_TO_EDGE,a.wrapT=a.wrapT||a.wrap||o.CLAMP_TO_EDGE),r=l.createTexture(o,a)}if(m.isRenderbuffer(o,r))o.framebufferRenderbuffer(f,n,o.RENDERBUFFER,r);else{if(!m.isTexture(o,r))throw"unknown attachment type";o.framebufferTexture2D(f,n,e.texTarget||o.TEXTURE_2D,r,e.level||0)}c.attachments.push(r)}),c},r.resizeFramebufferInfo=function(a,o,e,i,u){i=i||a.drawingBufferWidth,u=u||a.drawingBufferHeight,o.width=i,o.height=u,(e=e||d).forEach(function(e,r){var t=o.attachments[r],n=e.format;if(m.isRenderbuffer(a,t))a.bindRenderbuffer(a.RENDERBUFFER,t),a.renderbufferStorage(a.RENDERBUFFER,n,i,u);else{if(!m.isTexture(a,t))throw"unknown attachment type";l.resizeTexture(a,t,e,i,u)}})};var l=n(t(8)),m=n(t(0));function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var p=36064,d=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],y={};y[34041]=33306,y[6401]=36128,y[36168]=36128,y[6402]=36096,y[33189]=36096;var b={};b[32854]=!0,b[32855]=!0,b[36194]=!0,b[34041]=!0,b[33189]=!0,b[6401]=!0,b[36168]=!0},function(e,r,t){"use strict";r.__esModule=!0,r.createVertexArrayInfo=function(r,e,t){var n=r.createVertexArray();r.bindVertexArray(n),e.length||(e=[e]);return e.forEach(function(e){o.setBuffersAndAttributes(r,e,t)}),r.bindVertexArray(null),{numElements:t.numElements,elementType:t.elementType,vertexArrayObject:n}},r.createVAOAndSetAttributes=n,r.createVAOFromBufferInfo=function(e,r,t){return n(e,r.attribSetters||r,t.attribs,t.indices)};var o=function(e){{if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}}(t(5));function n(e,r,t,n){var a=e.createVertexArray();return e.bindVertexArray(a),o.setAttributes(r,t),n&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n),e.bindVertexArray(null),a}}])});
//# sourceMappingURL=/sm/c33c44659b1b5b4cc45391667738d922c0ac31fe3ee92fb432f3753dc54bde96.map